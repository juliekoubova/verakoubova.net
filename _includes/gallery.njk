{% from 'macros.njk' import image %}

<ol>
{% for img in gallery.images %}
  {% set left = img.left | lang | itemContent(gallery.imageBase) | trim %}
  {% set right = img.right | lang | itemContent(gallery.imageBase) | trim %}
  {% set blockClass = 'snap-start sm:snap-none sm:flex-1' %}
  <li
    class="sm:h-screen"
    data-title="{{ img | lang }}"
    id="{{ img | lang | slug }}"

    {% if loop.first %}
    data-navigation-ignore
    {% endif %}
    >
    <h3 class="sr-only">{{ item | lang }}</h3>

    <div class="h-full sm:h-auto sm:flex sm:mt-32">
      {% if left %}
      <div class="{{ blockClass }}">{{ left | safe }}</div>
      {% endif %}

      <div
        class="md:mx-4 {{ blockClass }}"

        {% if loop.first %}
        data-target="snap-type.determineBy"
        {% endif %}
      >
        {{ image(
                img,
                gallery.imageBase | ensureTrailingSlash,
                class='object-scale-down'
          ) }}
      </div>

      {% if right %}
      <div class="{{ blockClass }}">{{ right | safe }}</div>
      {% endif %}
    </div>

  </li>
{% endfor %}
</ol>